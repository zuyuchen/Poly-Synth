#N canvas 233 23 1207 779 12;
#X text 260 109 modulation index;
#X obj 34 170 phasor~;
#X floatatom 34 142 5 0 0 0 - - -, f 5;
#X obj 35 227 +~;
#X floatatom 189 141 5 0 0 0 - - -, f 5;
#X text 189 112 fm;
#X text 27 112 fc;
#X obj 191 198 *~;
#X obj 191 167 osc~;
#X floatatom 261 140 5 0 0 0 - - -, f 5;
#X obj 35 268 cos~;
#X obj 212 303 tabwrite~ phase-out;
#X obj 204 326 tabwrite~ cos-out;
#X msg 204 274 bang;
#X text 251 273 <-- graph them;
#X obj 262 169 / 6.28;
#X text 319 170 devided by 2pi;
#X obj 260 229 line~;
#X obj 260 201 pack 0 50;
#X text 341 213 ramped to avoid;
#X text 342 237 clicks.);
#X text 339 195 (the index is;
#X text 59 21 x(t) = cos(2*pi(fc*t + (I/2*pi)*cos(2*pi*fm*t)));
#X text 77 446 Frequency modulation turns out to be phase modualtion
as the frequency of carrier is a constant while the phase is a sinusoid
signal scaled by modualtion index \, "I".;
#X text 78 579 The fundamental frequency of the resultant sound depneds
on the ratio of fc and fm. Usually \, choose the bigger one to be fc
as the center frequency in the harmonic spectrum. Then the harmonics
generated by FM would be situated at a interval of multiple integer
of fm \, centered at fc.;
#X msg 212 111 110;
#X obj 106 199 * 4;
#X obj 106 169 t b f;
#X floatatom 107 141 5 0 0 0 - - -, f 5;
#X text 105 115 fc/fm;
#X obj 359 134 adsr;
#X text 182 88 fundamental(pitch);
#X floatatom 586 261 5 0 0 0 - - -, f 5;
#X obj 587 346 +~;
#X floatatom 743 258 5 0 0 0 - - -, f 5;
#X text 749 230 fm;
#X text 579 231 fc;
#X obj 745 315 *~;
#X obj 745 284 osc~;
#X obj 764 426 tabwrite~ phase-out;
#X obj 755 452 tabwrite~ cos-out;
#X msg 760 368 bang;
#X text 777 397 <-- graph them;
#X text 1013 261 devided by 2pi;
#X obj 954 320 line~;
#X obj 954 292 pack 0 50;
#X text 1035 304 ramped to avoid;
#X text 1036 328 clicks.);
#X text 1033 286 (the index is;
#X msg 783 233 110;
#X obj 658 242 t b f;
#X floatatom 659 214 5 0 0 0 - - -, f 5;
#X text 657 191 fc/fm;
#X obj 737 97 inlet;
#X obj 590 412 osc~;
#N canvas 0 22 450 300 (subpatch) 0;
#X array phase-out 220 float 3 black black;
#A 0 362.023 358.262 354.532 350.843 347.207 343.633 340.131 336.71
333.382 330.154 327.035 324.036 321.163 318.424 315.828 313.382 311.092
308.965 307.008 305.225 303.62 302.201 300.969 299.928 299.081 298.432
297.981 297.73 297.681 297.831 298.182 298.733 299.483 300.428 301.567
302.897 304.413 306.111 307.989 310.039 312.256 314.634 317.168 319.848
322.668 325.622 328.699 331.891 335.191 338.589 342.075 345.639 349.273
352.965 356.705 360.484 364.29 368.113 371.943 375.768 379.579 383.364
387.113 390.815 394.462 398.041 401.543 404.959 408.278 411.492 414.592
417.57 420.415 423.121 425.682 428.087 430.332 432.41 434.316 436.042
437.587 438.944 440.109 441.08 441.855 442.429 442.802 442.973 442.942
442.707 442.271 441.634 440.797 439.763 438.536 437.118 435.511 433.723
431.758 429.62 427.315 424.851 422.234 419.47 416.568 413.536 410.382
407.115 403.744 400.277 396.726 393.099 389.407 385.66 381.868 378.042
374.192 370.33 366.465 362.609 358.773 354.966 351.2 347.486 343.832
340.25 336.75 333.341 330.032 326.834 323.755 320.803 317.987 315.315
312.794 310.43 308.233 306.206 304.355 302.686 301.204 299.912 298.814
297.915 297.216 296.717 296.423 296.334 296.448 296.767 297.29 298.015
298.939 300.063 301.381 302.888 304.584 306.462 308.517 310.743 313.135
315.685 318.387 321.234 324.217 327.327 330.557 333.898 337.34 340.874
344.49 348.178 351.928 355.729 359.571 363.443 367.334 371.234 375.131
379.016 382.877 386.703 390.483 394.208 397.867 401.45 404.946 408.346
411.64 414.821 417.877 420.801 423.585 426.221 428.701 431.019 433.169
435.142 436.936 438.545 439.963 441.187 442.214 443.041 443.664 444.083
444.298 444.304 444.104 443.7 443.089 442.275 441.261 440.049 438.64
437.04 435.255 433.287 431.142 428.827;
#X coords 0 1000 220 0 200 140 1;
#X restore 774 568 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array cos-out 400 float 3 black black;
#A 0 -0.984351 -0.992127 -0.997228 -0.999711 -0.999652 -0.997138 -0.99225
-0.985072 -0.975691 -0.964178 -0.950633 -0.935147 -0.917807 -0.8987
-0.877872 -0.855442 -0.831488 -0.806042 -0.779222 -0.75107 -0.721658
-0.691051 -0.659295 -0.626463 -0.59259 -0.557741 -0.521956 -0.485284
-0.447772 -0.409455 -0.37039 -0.330601 -0.290151 -0.249061 -0.207395
-0.165182 -0.122482 -0.0793338 -0.0357978 0.00807528 0.0522242 0.0965862
0.14109 0.185668 0.230239 0.274714 0.319009 0.363028 0.406669 0.449821
0.492364 0.534182 0.575148 0.61513 0.653981 0.691562 0.727728 0.762329
0.795217 0.826209 0.855167 0.88195 0.90635 0.928276 0.947519 0.963991
0.977503 0.987958 0.995243 0.999213 0.999796 0.996916 0.990504 0.980509
0.966899 0.949655 0.928791 0.904338 0.876345 0.844884 0.810038 0.771927
0.730685 0.686466 0.639444 0.58981 0.537772 0.483552 0.427386 0.369515
0.310207 0.249727 0.188346 0.126337 0.0639779 0.00154157 -0.0606996
-0.122479 -0.183535 -0.24362 -0.302493 -0.359927 -0.415706 -0.469632
-0.521522 -0.571211 -0.618553 -0.663417 -0.705676 -0.745236 -0.782036
-0.815993 -0.847068 -0.875242 -0.900477 -0.922796 -0.942201 -0.958706
-0.972374 -0.983236 -0.991328 -0.996738 -0.999532 -0.999781 -0.997565
-0.992965 -0.986066 -0.976957 -0.965728 -0.952468 -0.937268 -0.920185
-0.901333 -0.880801 -0.858651 -0.834956 -0.80982 -0.783275 -0.75542
-0.726306 -0.695997 -0.664553 -0.632027 -0.598471 -0.563941 -0.528472
-0.492129 -0.45493 -0.416945 -0.378189 -0.338724 -0.298578 -0.257799
-0.216427 -0.174504 -0.132076 -0.0891903 -0.0458978 -0.00225122 0.0416922
0.0858726 0.130219 0.174667 0.21914 0.263546 0.307807 0.351829 0.395509
0.438742 0.481406 0.523389 0.564564 0.604798 0.643955 0.681882 0.718438
0.753474 0.786841 0.818371 0.847893 0.875279 0.900338 0.922939 0.94291
0.960126 0.97441 0.985668 0.993756 0.998548 0.999969 0.997927 0.99235
0.983176 0.970365 0.953911 0.933815 0.910101 0.882813 0.852018 0.817803
0.780271 0.739555 0.69581 0.649207 0.599936 0.548202 0.494229 0.438248
0.380506 0.321268 0.260801 0.199379 0.137277 0.0747746 0.0121485 -0.0503252
-0.112375 -0.173739 -0.234163 -0.293402 -0.351226 -0.407418 -0.461775
-0.514111 -0.564245 -0.612034 -0.657345 -0.700064 -0.740086 -0.777316
-0.811719 -0.843223 -0.871807 -0.897458 -0.920169 -0.93995 -0.956849
-0.970855 -0.982052 -0.990493 -0.996239 -0.999345 -0.999892 -0.997969
-0.993657 -0.987044 -0.978219 -0.967259 -0.954258 -0.939313 -0.922514
-0.903951 -0.88367 -0.861792 -0.838395 -0.813515 -0.787272 -0.759698
-0.730882 -0.70087 -0.669731 -0.637509 -0.604272 -0.570047 -0.53491
-0.49887 -0.462003 -0.424329 -0.385898 -0.346749 -0.306914 -0.266446
-0.225367 -0.183737 -0.141584 -0.0989647 -0.0559198 -0.0125051 0.0312271
0.0752175 0.119401 0.163709 0.208072 0.252404 0.29662 0.340632 0.384342
0.427643 0.470417 0.512551 0.553921 0.594396 0.63384 0.672104 0.709039
0.744499 0.778333 0.810387 0.840464 0.868444 0.894154 0.917422 0.938114
0.95606 0.971121 0.98318 0.992062 0.997685 0.999944 0.998744 0.993996
0.985642 0.97365 0.957997 0.938679 0.915714 0.889143 0.859026 0.825448
0.788515 0.748341 0.705084 0.658915 0.610021 0.558606 0.504893 0.449113
0.391511 0.332355 0.271913 0.210461 0.148276 0.0856381 0.0228291 -0.0398705
-0.102187 -0.163855 -0.224615 -0.284219 -0.342433 -0.399034 -0.453817
-0.50659 -0.557181 -0.605436 -0.651199 -0.694367 -0.734842 -0.772539
-0.807366 -0.839313 -0.868316 -0.894379 -0.917485 -0.937667 -0.954912
-0.969296 -0.980855 -0.989616 -0.995673 -0.999093 -0.999951 -0.998326
-0.994302 -0.987967 -0.979412 -0.968728 -0.956008 -0.941346 -0.924803
-0.906489 -0.886496 -0.864892 -0.841749 -0.817173 -0.791192 -0.763916
-0.735382 -0.705672 -0.674826 -0.642919 -0.609977 -0.576081 -0.54124
-0.505531 -0.468977 -0.431623 -0.393516 -0.354675 -0.315159 -0.274991
-0.234217 -0.192876 -0.151006 -0.108654 -0.065863 -0.0226848 0.0208302
0.0646242 0.108637;
#X coords 0 1 400 -1 200 140 1;
#X restore 547 568 graph;
#X text 996 174 depth/deviation;
#X obj 661 283 * 4;
#X text 613 27 inst-freq = fc + d/2pi*cos(2pi*fm*t);
#X obj 34 361 output~;
#X obj 957 405 *~;
#X obj 1019 382 r~ adsr;
#X text 77 512 As I increases \, the resulted bandwidth becomes wider
as energy then is distributed more along the sideband harmonics \,
whcih resulted in timbre changes.;
#X text 78 678 if fc/fm = rational number \, then the fundamental frequency
would be the greatest common divisor. As the example above \, fc =
4*fm \, and the fundamental frequency = fm = 110 Hz. if fc/fm = 3/2
\, the fundamental frequency = 1/3fc;
#X obj 645 763 outlet~;
#X obj 587 477 *~;
#X obj 738 125 unpack 0 0;
#X obj 960 176 *;
#X obj 732 211 s fm;
#X obj 928 120 r fm;
#X text 995 201 I = d/m \, d = I*m;
#X obj 956 260 / 6.28;
#X text 1015 356 modulation envelope;
#X obj 739 179 mtof;
#X floatatom 955 215 5 0 0 0 - - -, f 5;
#X obj 657 125 r fc/fm;
#X obj 981 118 r I;
#X obj 739 151 expr $f1*$f2;
#X floatatom 846 187 5 0 0 0 - - -, f 5;
#X obj 817 115 r octave;
#X floatatom 790 189 5 0 0 0 - - -, f 5;
#X floatatom 700 166 5 0 0 0 - - -, f 5;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 10 0;
#X connect 3 0 11 0;
#X connect 4 0 8 0;
#X connect 4 0 26 0;
#X connect 7 0 3 1;
#X connect 8 0 7 0;
#X connect 9 0 15 0;
#X connect 10 0 12 0;
#X connect 10 0 60 0;
#X connect 10 0 60 1;
#X connect 13 0 11 0;
#X connect 13 0 12 0;
#X connect 15 0 18 0;
#X connect 17 0 7 1;
#X connect 18 0 17 0;
#X connect 25 0 4 0;
#X connect 26 0 2 0;
#X connect 27 0 26 0;
#X connect 27 1 26 1;
#X connect 28 0 27 0;
#X connect 32 0 33 0;
#X connect 33 0 39 0;
#X connect 33 0 54 0;
#X connect 34 0 38 0;
#X connect 34 0 58 0;
#X connect 37 0 33 1;
#X connect 38 0 37 0;
#X connect 41 0 39 0;
#X connect 41 0 40 0;
#X connect 44 0 61 0;
#X connect 45 0 44 0;
#X connect 49 0 34 0;
#X connect 50 0 58 0;
#X connect 50 1 58 1;
#X connect 51 0 50 0;
#X connect 53 0 67 0;
#X connect 54 0 40 0;
#X connect 54 0 66 0;
#X connect 58 0 32 0;
#X connect 61 0 37 1;
#X connect 62 0 61 1;
#X connect 66 0 65 0;
#X connect 67 0 78 0;
#X connect 67 0 82 0;
#X connect 67 1 66 1;
#X connect 68 0 75 0;
#X connect 70 0 68 0;
#X connect 72 0 45 0;
#X connect 74 0 69 0;
#X connect 74 0 34 0;
#X connect 75 0 72 0;
#X connect 76 0 51 0;
#X connect 77 0 68 1;
#X connect 78 0 74 0;
#X connect 78 0 81 0;
#X connect 80 0 78 1;
#X connect 80 0 79 0;
